From 64106428f6739ed87392f59993f3e0f1a3f045c8 Mon Sep 17 00:00:00 2001
From: Vladimir Serbinenko <phcoder@gmail.com>
Date: Tue, 4 Mar 2014 18:08:26 +0100
Subject: [PATCH 07/17] lenovo/t60: Enable native intel gfx init.

Tested on T60 with intel graphics.

Change-Id: Id74d0a1315749052e7313135242e6b64862aa5e1
Signed-off-by: Vladimir Serbinenko <phcoder@gmail.com>
---
 src/mainboard/lenovo/t60/Kconfig       | 3 +++
 src/mainboard/lenovo/t60/devicetree.cb | 5 +++++
 2 files changed, 8 insertions(+)

diff --git a/src/mainboard/lenovo/t60/Kconfig b/src/mainboard/lenovo/t60/Kconfig
index 0cf19a1..2254185 100644
--- a/src/mainboard/lenovo/t60/Kconfig
+++ b/src/mainboard/lenovo/t60/Kconfig
@@ -20,8 +20,11 @@ config BOARD_SPECIFIC_OPTIONS # dummy
 	select CHANNEL_XOR_RANDOMIZATION
 	select HAVE_ACPI_TABLES
 	select HAVE_ACPI_RESUME
+	select MAINBOARD_HAS_NATIVE_VGA_INIT
 	select H8_DOCK_EARLY_INIT
 	select HAVE_CMOS_DEFAULT
+	select INTEL_EDID
+
 config MAINBOARD_DIR
 	string
 	default lenovo/t60
diff --git a/src/mainboard/lenovo/t60/devicetree.cb b/src/mainboard/lenovo/t60/devicetree.cb
index 719fa9a..fdced26 100644
--- a/src/mainboard/lenovo/t60/devicetree.cb
+++ b/src/mainboard/lenovo/t60/devicetree.cb
@@ -24,6 +24,11 @@ chip northbridge/intel/i945
 	register "gfx.ndid" = "3"
 	register "gfx.did" = "{ 0x80000100, 0x80000240, 0x80000410, 0x80000410, 0x00000005 }"
 
+	register "gpu_hotplug" = "0x00000220"
+	register "gpu_lvds_use_spread_spectrum_clock" = "1"
+	register "gpu_lvds_is_dual_channel" = "1"
+	register "gpu_backlight" = "0x1280128"
+
 	device cpu_cluster 0 on
 		chip cpu/intel/socket_mFCPGA478
 			device lapic 0 on end
-- 
1.9.1

